2016-06-28  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.0 released.

	* Communication with dcpd: Major changes in the protocol between
	  dcpspi and dcpd. A small protocol has been added that encapsulates
	  DCP to get collision handling and synchronization right.

	  Also, dcpspi does not attempt to keep track of read commands and
	  their corresponding answers because this was another root of many
	  problems. It is not required to keep them related, contrary to
	  assumptions made in 1.x versions.

	* GPIO: Detect small peaks, always use poll(2) before sampling. There
	  were several problems that could be traced down to the way the GPIO
	  was read out.

	* Dummy mode: Fixed so that it works again (was broken in v1.11).

2016-05-23  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.11 released.

	* Protocol: Fix collision handling.

2016-03-04  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.10 released.

	* Logging: Reduce number of log messages emitted for each transaction.

2016-02-19  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.9 released.

	* Protocol: Fixed message corruption during collision handling.

2016-02-12  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.8 released.

	* Bug fix: Avoid log disruption by very long messages.

2016-02-11  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.7 released.

	* SPI interface: Decreased default clock frequency from 1 MHz to
	  900 kHz to avoid spurious communication problems.

2016-01-14  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.6 released.

	* Protocol: Fix handling of escape sequences in collisions.

	* GPIO: Wait longer for sysfs files to become accessible. During boot,
	  the system is very busy; it can take udev much longer to configure
	  sysfs permissions than we've been expecting in v1.5.

2015-12-08  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.5 released.

	* Protocol: Fix race condition in collision detection.

	  The protocol was slightly extended such that the SPI slave is now
	  expected to send a zero byte when it is ready to receive data from
	  the master, and a NOP when it's not. Anything else is considered
	  protocol data, indicating a collision, and is fed into the SPI input
	  buffer.

	  Collisions like these are bound to happen sometimes because it is
	  simply impossible for the slave to tell that a master transaction is
	  about to begin. For the master it is equally impossible to check the
	  request line and start a master SPI transaction at exactly the same
	  time, so for a small time window there is a chance for a collision
	  to happen.

	* Protocol: Request GPIO is checked before starting to poll the slave
	  device. This reduces the amount of unnecessary polling during a
	  collision.

	* Testing: Add command line option to enable dummy mode for testing on
	  PCs (no SPI nor GPIO accesses are being made in this mode). Pass a
	  dash to the --spidev option to enable dummy mode.

2015-11-17  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.4 released.

	* SPI interface: Increased clock frequency from 128 kHz to 1 MHz,
	  resulting in a speed-up of transfers by a factor of more than 7.8.

	* SPI transactions: Slave poll interval reduced from 30 ms to 5 ms,
	  resulting in vastly improved latencies.

2015-09-18  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.3 released.

	* Slave transactions: Better input sanitation, do not accept
	  transaction sizes bigger than 256.

2015-07-13  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.2 released.

	* Show version information in log, add --version option.

	* Fix SPI collision and repeated requests handling.

2015-06-30  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.1 released.

	* Reduce SPI traffic while waiting for slave.

2015-06-11  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.0 released.

	* First release for testing.


Copyright 2015, 2016 T+A elektroakustik GmbH & Co. KG
